<!DOCTYPE HTML>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Visual.js - Bouncing ball</title>
  <script type="text/javascript" src="../build/Visual.js"></script>
  <style type="text/css">
    body {
      background: #000;
      color: #eee;
      overflow: hidden;
    }
    #info {
      width: 300px;
      text-align: center;
      margin: 20px auto;
    }
    #container {
      text-align: center;
      margin: 0 auto;
    }
  </style>
</head>
<body>
  <div id="info"> Press w/a/s/d to rotate, z/x to zoom </div>
  <div id="container"></div>

  <script type="text/javascript">

    var scene = Visual({
      container: document.getElementById('container'),
      width: 480, 
      height: 480
    });
    var box = scene.box({
      pos: [0, 0, 0],
      length: 4,
      height: 0.5,
      width: 4,
      color: 0xdddddd
    });

    var ball = scene.sphere({
      pos: [0, 4, 0],
      radius: 1,
      color: 0xff0000
    });
    ball.velocity = new THREE.Vector3(0, -1, 0);

    var dt = 0.01;
    setInterval(function() {
      ball.pos.addSelf(
        ball.velocity.clone().multiplyScalar(dt)
      );
      if (ball.y < ball.radius) {
        ball.velocity.y = Math.abs(ball.velocity.y);
      } else {
        ball.velocity.y = ball.velocity.y - 9.8 * dt;
      }
    }, dt * 1000);

  </script>
</body>
</html>
